<div class="view">
    <div class="container" ng-controller="homeCtrl as homeCtrl ">
        <div class="row">


            <div class="col-md-12">


                <form novalidate ng-submit="homeCtrl.submit()" role="form" name="myForm" class="form-horizontal">
                    <br />
                    <br />
                    <div class="row">
                        <div class="form-group" ng-class="{error: myForm.name.$invalid}">
                            <label class="col-md-2"> Nom </label>
                            <div class="col-md-4">
                                <input name="name" ng-model="homeCtrl.users.nom" type="text" class="form-control" placeholder="Nom" required />
                                <span ng-show="myForm.name.$dirty && myForm.name.$invalid && myForm.name.$touched" class="help-inline"></span>
                            </div>
                        </div>

                        <div class="form-group" ng-class="{error: myForm.prenom.$invalid}">
                            <label class="col-md-2"> Prenom </label>
                            <div class="col-md-4">
                                <input name="prenom" ng-model="homeCtrl.users.prenom" type="text" class="form-control" placeholder="Prenom" required />
                                <span ng-show="myForm.prenom.$dirty && myForm.prenom.$invalid" class="help-inline"></span>
                            </div>
                        </div>

                        <div class="form-group" ng-class="{error: myForm.name.$invalid}">
                            <label class="col-md-2"> Telephone </label>
                            <div class="col-md-4">
                                <input name="telephone" ng-model="homeCtrl.users.telephone" type="text" class="form-control" placeholder="telephone" required />
                                <span ng-show="myForm.telephone.$dirty && myForm.telephone.$invalid" class="help-inline"></span>
                            </div>
                        </div>

                        <div class="form-group" ng-class="{error: myForm.name.$invalid}">
                            <label class="col-md-2"> Adresse </label>
                            <div class="col-md-4">
                                <input name="adresse" ng-model="homeCtrl.users.adresse" type="text" class="form-control" placeholder="Your adresse" required />
                                <span ng-show="myForm.adresse.$dirty && myForm.adresse.$invalid" class="help-inline"></span>
                            </div>
                        </div>

                        <button type="submit" ng-disabled="isClean() || myForm.$invalid" value="Ajouter"
                                class="btn btn-primary">
                            Ajouter

                        </button>


                    </div>
                </form>

                <br />
                <center><input style="width:40%" type="text" ng-model="search" placeholder="recherche" /></center>
                <div style="margin-top:20px">
                    <div ng-show="homeCtrl.ListUsers.length>0">
                        <table border="1" ng-cloak>
                            <tr>
                                <th>Nom </th>
                                <th>Prenom</th>
                                <th>telephone</th>
                                <th>Adresse</th>
                                <th>Option</th>
                            </tr>

                            <tr ng-repeat="user in homeCtrl.ListUsers | filter:search ">
                                <td>{{user.nom}}</td>
                                <td>{{user.prenom}}</td>
                                <td>{{user.telephone}}</td>
                                <td>{{user.adresse}}</td>
                                <td>
                                    <button type="button" class="btn btn-info" data-toggle="modal" data-target="#myModal"
                                            ng-click="homeCtrl.selectUser(user)"> Edit   
                                    </button>

                                    <a href="#" ng-click="homeCtrl.deleteUser(user.id)" class="btn btn-danger">Delete</a>
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
            </div>
        </div>


        <!-- Modal content-->
        <div class="modal fade" id="myModal" role="dialog">
            <div class="modal-dialog">

                <div class="modal-content">

                    <div class="modal-body">
                        <form  ng-submit="homeCtrl.updateUser(homeCtrl.clickedUser.id)" role="form" name="myForm" class="form-horizontal">

                            <div class="form-group">
                                <div class="col-md-4">
                                    <input name="name" ng-model="homeCtrl.clickedUser.nom" type="text" class="form-control" placeholder="Nom" />
                                   
                                </div>
                            </div>

                            <div class="form-group">

                                <div class="col-md-4">
                                    <input name="prenom" ng-model="homeCtrl.clickedUser.prenom" type="text" class="form-control" placeholder="Prenom" />

                                </div>
                            </div>

                            <div class="form-group">

                                <div class="col-md-4">
                                    <input name="telephone" ng-model="homeCtrl.clickedUser.telephone" type="text" class="form-control" placeholder="telephone" />

                                </div>
                            </div>

                            <div class="form-group">

                                <div class="col-md-4">
                                    <input name="adresse" ng-model="homeCtrl.clickedUser.adresse" type="text" class="form-control" placeholder="Your adresse" />

                                </div>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                                <button type="submit" ng-click="homeCtrl.updateUser(homeCtrl.clickedUser.id)" class="btn btn-default" data-dismiss="modal">Save</button>
                            </div>
                        </form>

                    </div>
                    
                </div>

            </div>
        </div>














    </div>
</div>
